# VPN Reseller Bot

Telegram-–±–æ—Ç –¥–ª—è —Ä–µ—Å–µ–ª–ª–∏–Ω–≥–∞ VPN –ø–æ–¥–ø–∏—Å–æ–∫ —á–µ—Ä–µ–∑ MW API.

**–§–æ—Ä–∫ [evansvl/vless-shopbot](https://github.com/evansvl/vless-shopbot)** ‚Äî –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ MW API.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|---------|--------|
| –†–µ—Å–µ–ª–ª–∏–Ω–≥ —á–µ—Ä–µ–∑ MW API | ‚úÖ |
| –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫ | ‚úÖ |
| –ü—Ä–æ–¥–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫ | ‚úÖ |
| –û—Ç–∑—ã–≤ –ø–æ–¥–ø–∏—Å–æ–∫ —á–µ—Ä–µ–∑ API | ‚úÖ |
| –í–µ–±-–ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è | ‚úÖ |
| –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –ø–∞–Ω–µ–ª–∏ | ‚úÖ |
| –ì–∏–±–∫–∏–µ —Ç–∞—Ä–∏—Ñ—ã (1-365 –¥–Ω–µ–π) | ‚úÖ |
| YooKassa (–∫–∞—Ä—Ç—ã, –°–ë–ü) | ‚úÖ |
| CryptoBot | ‚úÖ |
| Heleket | ‚úÖ |
| –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ | ‚úÖ |
| –ü—Ä–æ–±–Ω—ã–π –ø–µ—Ä–∏–æ–¥ | ‚úÖ |
| –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª | ‚úÖ |
| Support-–±–æ—Ç | ‚úÖ |
| –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | ‚úÖ |
| –≠–∫—Å–ø–æ—Ä—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ CSV | ‚úÖ |
| –†–∞—Å—Å—ã–ª–∫–∞ –∏–∑ –ø–∞–Ω–µ–ª–∏ | ‚úÖ |
| –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º | ‚úÖ |
| API —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–±–∞–ª–∞–Ω—Å, –≥—Ä–∞–Ω—Ç—ã, –∏—Å—Ç–æ—Ä–∏—è) | ‚úÖ |
| –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π | ‚úÖ |
| TON –æ–ø–ª–∞—Ç–∞ | ‚ö†Ô∏è –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |

üìã **[–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π](CHANGELOG.md)**

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Ubuntu/Debian —Å–µ—Ä–≤–µ—Ä
- –î–æ–º–µ–Ω —Å A-–∑–∞–ø–∏—Å—å—é –Ω–∞ IP —Å–µ—Ä–≤–µ—Ä–∞
- API –∫–ª—é—á –æ—Ç [@mwvpnbot](https://t.me/mwvpnbot)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
ssh root@your-server-ip
curl -sSL https://raw.githubusercontent.com/mwdevru/shopbot-beliyspisok/main/install.sh | sudo bash
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –í–æ–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å: `https://your-domain.com/login`
2. –õ–æ–≥–∏–Ω: `admin` / –ü–∞—Ä–æ–ª—å: `admin` ‚Äî **—Å—Ä–∞–∑—É —Å–º–µ–Ω–∏—Ç–µ!**
3. –£–∫–∞–∂–∏—Ç–µ:
   - API –∫–ª—é—á MW API (–∏–∑ [@mwvpnbot](https://t.me/mwvpnbot))
   - –¢–æ–∫–µ–Ω –±–æ—Ç–∞ (–æ—Ç [@BotFather](https://t.me/BotFather))
   - Username –±–æ—Ç–∞ (–±–µ–∑ @)
   - Telegram ID –∞–¥–º–∏–Ω–∞ (—É–∑–Ω–∞—Ç—å: [@userinfobot](https://t.me/userinfobot))
4. –°–æ–∑–¥–∞–π—Ç–µ —Ç–∞—Ä–∏—Ñ—ã
5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

## –ü–ª–∞—Ç–µ–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã

### YooKassa
Webhook: `https://your-domain.com/yookassa-webhook`

### CryptoBot
Webhook: `https://your-domain.com/cryptobot-webhook`

### Heleket
Webhook: `https://your-domain.com/heleket-webhook`

## MW API

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [vpn.mwshark.host/api/docs](https://vpn.mwshark.host/api/docs)

| –≠–Ω–¥–ø–æ–∏–Ω—Ç | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è |
|----------|-------|----------|--------------|
| `/api/v1/balance` | GET | –ë–∞–ª–∞–Ω—Å –∞–∫–∫–∞—É–Ω—Ç–∞ | ‚úÖ Dashboard |
| `/api/v1/tariffs` | GET | –°–ø–∏—Å–æ–∫ —Ç–∞—Ä–∏—Ñ–æ–≤ | ‚úÖ |
| `/api/v1/calculate` | GET | –†–∞—Å—á—ë—Ç —Ü–µ–Ω—ã | ‚úÖ |
| `/api/v1/subscription/create` | POST | –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ | ‚úÖ –ü–æ–∫—É–ø–∫–∞/–≤—ã–¥–∞—á–∞ |
| `/api/v1/subscription/extend` | POST | –ü—Ä–æ–¥–ª–µ–Ω–∏–µ | ‚úÖ –ü—Ä–æ–¥–ª–µ–Ω–∏–µ/+–¥–Ω–∏ |
| `/api/v1/subscription/revoke` | POST | –û—Ç–∑—ã–≤ –ø–æ–¥–ø–∏—Å–∫–∏ | ‚úÖ –û—Ç–∑—ã–≤ –∫–ª—é—á–µ–π |
| `/api/v1/subscription/{user_id}` | GET | –°—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏ | ‚úÖ |
| `/api/v1/grants` | GET | –ê–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä–∞–Ω—Ç—ã | ‚úÖ |
| `/api/v1/history` | GET | –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∫—É–ø–æ–∫ | ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è |

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

```bash
cd shopbot-beliyspisok

docker-compose logs -f      # –ª–æ–≥–∏
docker-compose restart      # –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose down         # –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
src/shop_bot/
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îú‚îÄ‚îÄ handlers.py      # –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ keyboards.py     # –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ support_handlers.py
‚îú‚îÄ‚îÄ modules/
‚îÇ   ‚îî‚îÄ‚îÄ mwshark_api.py   # MW API –∫–ª–∏–µ–Ω—Ç
‚îú‚îÄ‚îÄ data_manager/
‚îÇ   ‚îî‚îÄ‚îÄ database.py      # SQLite
‚îî‚îÄ‚îÄ webhook_server/
    ‚îú‚îÄ‚îÄ app.py           # Flask + webhooks
    ‚îú‚îÄ‚îÄ templates/
    ‚îÇ   ‚îú‚îÄ‚îÄ base.html        # –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω
    ‚îÇ   ‚îú‚îÄ‚îÄ dashboard.html   # –≥–ª–∞–≤–Ω–∞—è
    ‚îÇ   ‚îú‚îÄ‚îÄ users.html       # –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
    ‚îÇ   ‚îú‚îÄ‚îÄ transactions.html # —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
    ‚îÇ   ‚îú‚îÄ‚îÄ api_stats.html   # API —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    ‚îÇ   ‚îú‚îÄ‚îÄ broadcast.html   # —Ä–∞—Å—Å—ã–ª–∫–∞
    ‚îÇ   ‚îú‚îÄ‚îÄ settings.html    # –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    ‚îÇ   ‚îî‚îÄ‚îÄ login.html       # –≤—Ö–æ–¥
    ‚îî‚îÄ‚îÄ static/          # CSS/JS
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

GPL-3.0 ‚Äî —Å–º. [LICENSE](LICENSE)

---

–û—Ä–∏–≥–∏–Ω–∞–ª: [evansvl/vless-shopbot](https://github.com/evansvl/vless-shopbot)
