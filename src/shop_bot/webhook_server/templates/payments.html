{% extends "base.html" %}
{% block title %}–ü–ª–∞—Ç–µ–∂–∏{% endblock %}
{% block content %}
<h1 class="page-title">–ü–ª–∞—Ç–µ–∂–∏</h1>
<div class="stats-grid" style="margin-bottom:24px">
<div class="stat-card">
<div class="stat-label">YooKassa</div>
<div class="stat-value">{% if settings.yookassa_shop_id and settings.yookassa_secret_key and settings.yookassa_shop_id|length > 5 and settings.yookassa_secret_key|length > 5 and settings.yookassa_shop_id != 'admin' %}‚úÖ{% else %}‚ùå{% endif %}</div>
</div>
<div class="stat-card">
<div class="stat-label">Platega</div>
<div class="stat-value">{% if settings.platega_merchant_id and settings.platega_secret_key and settings.platega_merchant_id|length > 3 and settings.platega_secret_key|length > 3 %}‚úÖ{% else %}‚ùå{% endif %}</div>
</div>
<div class="stat-card">
<div class="stat-label">CryptoBot</div>
<div class="stat-value">{% if settings.cryptobot_token and settings.cryptobot_token|length > 10 %}‚úÖ{% else %}‚ùå{% endif %}</div>
</div>
<div class="stat-card">
<div class="stat-label">Heleket</div>
<div class="stat-value">{% if settings.heleket_merchant_id and settings.heleket_api_key and settings.heleket_merchant_id|length > 3 and settings.heleket_api_key|length > 3 %}‚úÖ{% else %}‚ùå{% endif %}</div>
</div>
</div>
<form action="{{ url_for('payments_page') }}" method="post">
<div class="grid-2">
<div>
<div class="card" style="margin-bottom:24px">
<div class="card-title">YooKassa</div>
<p style="font-size:.8rem;color:var(--text-muted);margin-bottom:12px">–ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞, –°–ë–ü</p>
<div class="form-group">
<label class="form-label">Shop ID</label>
<input type="text" name="yookassa_shop_id" class="form-input" value="{{ settings.yookassa_shop_id or '' }}">
</div>
<div class="form-group">
<label class="form-label">Secret Key</label>
<div class="password-wrap">
<input type="password" name="yookassa_secret_key" class="form-input" value="{{ settings.yookassa_secret_key or '' }}">
<button type="button" class="toggle-pass">üëÅ</button>
</div>
</div>
<div class="form-group">
<label class="form-label">Email –¥–ª—è —á–µ–∫–æ–≤</label>
<input type="text" name="receipt_email" class="form-input" value="{{ settings.receipt_email or '' }}">
</div>
<div class="form-group">
<div class="form-check">
<input type="hidden" name="sbp_enabled" value="false">
<input type="checkbox" id="sbp_enabled" name="sbp_enabled" value="true" {% if settings.sbp_enabled == 'true' %}checked{% endif %}>
<label for="sbp_enabled">–í–∫–ª—é—á–∏—Ç—å –°–ë–ü</label>
</div>
</div>
</div>
<div class="card" style="margin-bottom:24px">
<div class="card-title">Platega</div>
<p style="font-size:.8rem;color:var(--text-muted);margin-bottom:12px">–ö–∞—Ä—Ç–∞ / –°–ë–ü —á–µ—Ä–µ–∑ <a href="https://platega.io" target="_blank">platega.io</a></p>
<div class="form-group">
<label class="form-label">Merchant ID</label>
<input type="text" name="platega_merchant_id" class="form-input" value="{{ settings.platega_merchant_id or '' }}">
</div>
<div class="form-group">
<label class="form-label">Secret Key</label>
<div class="password-wrap">
<input type="password" name="platega_secret_key" class="form-input" value="{{ settings.platega_secret_key or '' }}">
<button type="button" class="toggle-pass">üëÅ</button>
</div>
</div>
<div class="form-group">
<label class="form-label">–ú–µ—Ç–æ–¥ –æ–ø–ª–∞—Ç—ã</label>
<select name="platega_payment_method" class="form-input">
<option value="2" {% if settings.platega_payment_method == '2' or not settings.platega_payment_method %}selected{% endif %}>–°–ë–ü QR</option>
<option value="1" {% if settings.platega_payment_method == '1' %}selected{% endif %}>–ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞</option>
<option value="3" {% if settings.platega_payment_method == '3' %}selected{% endif %}>–°–ë–ü –ø–æ –Ω–æ–º–µ—Ä—É</option>
</select>
</div>
</div>
</div>
<div>
<div class="card" style="margin-bottom:24px">
<div class="card-title">CryptoBot</div>
<p style="font-size:.8rem;color:var(--text-muted);margin-bottom:12px">–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞ —á–µ—Ä–µ–∑ <a href="https://t.me/CryptoBot" target="_blank">@CryptoBot</a></p>
<div class="form-group">
<label class="form-label">Token</label>
<div class="password-wrap">
<input type="password" name="cryptobot_token" class="form-input" value="{{ settings.cryptobot_token or '' }}">
<button type="button" class="toggle-pass">üëÅ</button>
</div>
</div>
</div>
<div class="card" style="margin-bottom:24px">
<div class="card-title">Heleket</div>
<p style="font-size:.8rem;color:var(--text-muted);margin-bottom:12px">–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞ —á–µ—Ä–µ–∑ <a href="https://heleket.com" target="_blank">heleket.com</a></p>
<div class="form-group">
<label class="form-label">Merchant ID</label>
<input type="text" name="heleket_merchant_id" class="form-input" value="{{ settings.heleket_merchant_id or '' }}">
</div>
<div class="form-group">
<label class="form-label">API Key</label>
<div class="password-wrap">
<input type="password" name="heleket_api_key" class="form-input" value="{{ settings.heleket_api_key or '' }}">
<button type="button" class="toggle-pass">üëÅ</button>
</div>
</div>
</div>
<div class="card" style="margin-bottom:24px">
<div class="card-title">–û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</div>
<div class="form-group">
<label class="form-label">–î–æ–º–µ–Ω (–¥–ª—è webhook)</label>
<input type="text" name="domain" class="form-input" value="{{ settings.domain or '' }}" placeholder="my-shop.com">
</div>
</div>
</div>
</div>
<button type="submit" class="btn btn-primary" style="width:100%">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
</form>
{% endblock %}
